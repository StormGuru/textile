<template>
<div>
  <div v-if="organization" class="single_org segoe">
   <span>üëÅ {{organization.view}}</span>
     <div  class="single_org_box">
    
       <div class="single_org_l">
         
           <h2>{{organization.name}}</h2>
           <p>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: <span class="organization_personal_box_contacts_item">{{organization.category.name}}</span></p>
           <p>–¢–µ–ª–µ—Ñ–æ–Ω: <span class="organization_personal_box_contacts_item">{{organization.tel}}</span></p>
           <p>–ê–¥—Ä–µ—Å: <span class="organization_personal_box_contacts_item">{{organization.adress}}</span></p>
           <p>–°–∞–π—Ç: <span class="organization_personal_box_contacts_item">{{organization.site}}</span></p>
           <div>–û–ø–∏—Å–∞–Ω–∏–µ:
             <p>{{organization.description}}</p>
           </div>
       </div>
       <div class="single_org_r" v-if="organization.images" v-for="img in organization.images">
           <img :src="img.url">
       </div>
        <div class="single_org_r" v-if="organization.images.length== 0">
         –ü–æ–∫–∞ –Ω–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
       </div>
      </div>
   </div>
 </div>
</template>

<script>


  export default{
    name: "SingleOrganization",

   data(){
      return{
       organization: null
    
     
      }
   },

   created(){
   
   },

    mounted()
    {
          this.organizationCount();
        this.getSingleOrganization();
      
    },

    methods: {

         getSingleOrganization(){

          axios.get('/api/organization/' + this.$route.params.id)
          .then(res => {
                
                 this.organization = res.data
                  console.log(this.organization);
              })  
         },  


         organizationCount(){

          axios.get('/api/organization/count/' + this.$route.params.id)
          .then(res => {
                
                 this.organization = res.data
                
              })  
         }

      }

  
  }
</script>